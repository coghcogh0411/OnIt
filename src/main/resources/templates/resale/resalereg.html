<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>ìƒí’ˆ ë“±ë¡</title>
<link rel="stylesheet" href="/css/resalereg.css">
<script>
function previewFiles() {
    // ë¯¸ë¦¬ë³´ê¸° ë‹´ì„ ì»¨í…Œì´ë„ˆ
    const previewContainer = document.getElementById('previewContainer');
    // ìƒˆë¡œ ì—…ë¡œë“œ ì‹œ ê¸°ì¡´ ë‚´ìš© ì´ˆê¸°í™”
    previewContainer.innerHTML = '';

    // íŒŒì¼ ì…ë ¥ ìš”ì†Œ
    const fileInput = document.querySelector('input[name="files"]');
    const files = fileInput.files;

    // íŒŒì¼ì´ ì—†ìœ¼ë©´ ì¢…ë£Œ
    if (!files || files.length === 0) {
      return;
    }

    // ì—¬ëŸ¬ íŒŒì¼ì„ ìˆœíšŒí•˜ë©° <img> ë™ì  ìƒì„±
    Array.from(files).forEach(file => {
      const reader = new FileReader();
      reader.onload = e => {
        const img = document.createElement('img');
        img.src = e.target.result;
        img.classList.add('preview-image');
        previewContainer.appendChild(img);
      };
      reader.readAsDataURL(file);
    });
  }
</script>

</head>
<body>

	<div class="container">
		<div class="top-content">
			<button class="location-button">
				<span class="location-icon">ğŸ“</span> ì¢…ë¡œêµ¬
			</button>
			<div class="title-banner">ìƒí’ˆ ë“±ë¡</div>
		</div>

		<div class="main-content">
			<form class="form-container" action="/resale-reg" method="post"
				enctype="multipart/form-data">
				<div class="form-fields">
					<input type="text" name="title" class="input-field"
						placeholder="ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”">
					<textarea class="textarea-field" name="description"
						placeholder="ì„¤ëª…ì„ ì…ë ¥í•˜ì„¸ìš”"></textarea>
					<div class="dropdowns-container">
						<select class="dropdown" name="category">
							<option value="">ì¹´í…Œê³ ë¦¬ ì„ íƒ</option>
							<th:block th:each="category : ${category}">
								<option th:value="${category.no}" th:text="${category.name}"></option>
							</th:block>
						</select> <select class="dropdown" name="delivery">
							<option>íƒë°° ì—¬ë¶€</option>
							<option value="Y">ê°€ëŠ¥</option>
							<option value="N">ë¶ˆê°€ëŠ¥</option>
						</select> <select class="dropdown" name="deal">
							<option>ì§ê±°ë˜ ì—¬ë¶€</option>
							<option value="Y">ê°€ëŠ¥</option>
							<option value="N">ë¶ˆê°€ëŠ¥</option>
						</select>
					</div>
				</div>

				<div class="image-section">
					<div class="upload-area">
						<span>ì´ë¯¸ì§€ë¥¼ ì˜¬ë ¤ì£¼ì„¸ìš”</span>
						<input type="file" name="files" accept="image/*" multiple
							onchange="previewFiles()">
					</div>

					<div class="preview-carousel" id="previewContainer">
					
					</div>

					<div class="price-section">
						<input type="text" class="price-input" name="price"
							placeholder="ê°€ê²© ì…ë ¥">
						<button type="submit" class="submit-button">ë“±ë¡</button>
					</div>
				</div>
			</form>
		</div>
	</div>
</body>

</html>
